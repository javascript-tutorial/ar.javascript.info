
# ููุฏููุฉ ุฅูู ุงูููุญุฏุงุช

<<<<<<< HEAD
ุณูุฑู ุณุฑูุนูุง ุจูููุง ุชุทุจูููุง ููุจูุฑ ุญุฌููุง ูุชุนููุฏูุง ุจุฃูู ุนูููุง ุชูุณููู ุฅูู ูููุงุช ูุชุนุฏูุฏุฉุ ุฃู โููุญุฏุงุชโ (module). ุนุงุฏุฉู ูุง ุชุญุชูู ุงูููุญุฏุฉ ุนูู ุตูู ุฃู ููุชุจุฉ ูููุง ุฏูุงูู.
=======
As our application grows bigger, we want to split it into multiple files, so called "modules". A module may contain a class or a library of functions for a specific purpose.
>>>>>>> 340ce4342100f36bb3c4e42dbe9ffa647d8716c8

ูุงูุช ูุญุฑููุงุช ุฌุงูุงุณูุฑุจุช ุชุนูู ููุชุฑุฉ ุทูููุฉ ุฌุฏูุง ุฏูู ุฃูู ุตูุงุบุฉ ููุญุฏุงุช ุนูู ูุณุชูู ุงููุบุฉุ ููู ุชูู ูุฐู ุจุงููุดููุฉ ุฅุฐ ุฃูู ุงูุณูุฑุจุชุงุช ุณุงุจููุง ูุงูุช ุจุณูุทุฉ ูุณููุฉ ููู ููู ููุงู ุฏุงุนู ูุนูู ููููุญุฏุงุช.

ูููู ูุงูุนุงุฏุฉ ุตุงุฑุช ุงูุณูุฑุจุชุงุช ูุฐู ุฃูุซุฑ ุชุนููุฏูุง ูุฃูุจุฑุ ููุงู ุนูู ุงููุฌุชูุน ุงุฎุชุฑุงุน ุทุฑุงุฆู ูุฎุชููุฉ ูุชูุธูู ุงูุดููุฑุงุช ูู ูุญุฏุงุช (ุฃู ููุชุจุงุช ุฎุงุตูุฉ ุชูุญููู ุชูู ุงูููุญุฏุงุช ุญูู ุงูุทูุจ).

<<<<<<< HEAD
ูุซุงู:
=======
To name some (for historical reasons):
>>>>>>> 340ce4342100f36bb3c4e42dbe9ffa647d8716c8

- [AMD](https://en.wikipedia.org/wiki/Asynchronous_module_definition): ูุฐู ุฅุญุฏู ููุธู ุงูููุชุจุงุช ุงููุฏููุฉ ุฌุฏูุง ูุงูุชู ูุชุจุช ุชูููุฐูุง ุจุฏุงูุฉู ุงูููุชุจุฉ [require.js](http://requirejs.org/).
- [CommonJS](http://wiki.commonjs.org/wiki/Modules/1.1): ูุธุงู ุงูููุญุฏุงุช ุงูุฐู ุตูููุน ูุฎูุงุฏู Node.js.
- [UMD](https://github.com/umdjs/umd): ูุธุงู ููุญุฏุงุช ุขุฎุฑ (ุงูุชูุฑุญ ููููู ููุนููู ุฃุฌูุนูู) ููู ูุชูุงูู ูุน AMD ูCommonJS.

ุฃููุง ุงูุขู ููุฐู ุงูููุชุจุงุช ุตุงุฑุช (ุฃู ุชุตูุฑุ ููููุง ุจุนุฏ ุขุฎุฑ) ุฌุฒุกูุง ูู ุงูุชุงุฑูุฎุ ูููู ูุน ุฐูู ุณูุฑุงูุง ูู ุงูุณูุฑุจุชุงุช ุงููุฏููุฉ.

<<<<<<< HEAD
ุธูุฑ ูุธุงู ุงูููุญุฏุงุช (ุนูู ูุณุชูู ุงููุบุฉ) ูู ุงููุนูุงุฑ ุนุงู 2015ุ ูุชุทููุฑ ุดูุฆูุง ูุดูุฆูุง ููุฐุฆุฐ ูุตุงุฑุช ุงูุขู ุฃุบูุจ ุงููุชุตููุญุงุช ุงูุฑุฆูุณุฉ (ููุง ู Node.js) ุชุฏุนูู. ูุฐุง ุณูููู ุฃูุถู ูู ุจุฏุฃูุง ุฏุฑุงุณุฉ ุนูููุง ูู ุงูุขู.
=======
The language-level module system appeared in the standard in 2015, gradually evolved since then, and is now supported by all major browsers and in Node.js. So we'll study the modern JavaScript modules from now on.
>>>>>>> 340ce4342100f36bb3c4e42dbe9ffa647d8716c8

## ูุง ุงูููุญุฏุฉุ

<<<<<<< HEAD
ุงูููุญุฏุฉ ูู ูููุ ููุท. ููู ูุต ุจุฑูุฌู ูุณุงูู ูุญุฏุฉ ูุงุญุฏุฉ.
=======
A module is just a file. One script is one module. As simple as that.
>>>>>>> 340ce4342100f36bb3c4e42dbe9ffa647d8716c8

ูููู ุฃู ุชูุญููู ุงูููุญุฏุงุช ุจุนุถูุง ุงูุจุนุถ ูุชุณุชุนูู ุชูุฌููุงุช ุฎุงุตุฉ ูุซู ุงูุชุตุฏูุฑ `export` ูุงูุงุณุชูุฑุงุฏ `import` ูุชุชุจุงุฏู ุงูููุฒุงุช ูููุง ุจูููุง ูุชุณุชุฏุนู ุงูุฏูุงูู ุงูููุฌูุฏุฉ ูู ูุญุฏุฉ ุตุ ูู ูุญุฏุฉ ุณ:

- ุชููู ุงููููุฉ ุงูููุชุงุญูุฉ `export` ูููุชุบูุฑุงุช ูุงูุฏูุงูู ุจุฃูู ุงููุตูู ุฅูููุง ูู ุฎุงุฑุฌ ุงูููุญุฏุฉ ุงูุญุงููุฉ ูู ุฃูุฑ ููุชุงุญ.
- ูุชูุชูุญ `import` ุงุณุชูุฑุงุฏ ุชูู ุงููุธุงุฆู ูู ุงูููุญุฏุงุช ุงูุฃุฎุฑู.

ููุซููุง ูู ูุงู ูุฏููุง ุงูููู `sayHi.js` ููู ููุตุฏูุฑ ุฏุงููุฉู ูู ุงูุฏูุงูู:

```
// ๐ sayHi.js
export function sayHi(user) {
  alert(`Hello, ${user}!`);
}
```

ููููู ูููู ุขุฎุฑ ุงุณุชูุฑุงุฏู ูุงุณุชุนูุงููุง:

```
// ๐ main.js
import {sayHi} from './sayHi.js';

alert(sayHi); // function... ููุนูุง ุฏุงูุฉ
sayHi('John'); // Hello, John!
```

ุชุชูุฌู ุชุนูููุฉ `import` ููููุญุฏุฉ `โ./sayHi.js` ุนุจุฑ ุงููุณุงุฑ ุงููุณุจู ุงููููุฑุฑ ููุง. ููุณูุฏ ุงูุชุงุจุน `sayHi` ูููุชุบููุฑ ุงูุฐู ูุญูู ููุณ ุงุณู ุงูุชุงุจุน.

ููุดุบูู ุงููุซุงู ูู ุงููุชุตููุญ.

ุชุฏุนู ุงูููุญุฏุงุช ูููุงุช ููุชุงุญูุฉ ููุฒุงูุง ุฎุงุตุฉุ ูุฐูู ุนูููุง ุฅุฎุจุงุฑ ุงููุชุตููุญ ุจุฃูู ูุฐุง ุงูุณูุฑุจุช ูู ููุญุฏุฉ ููุฌุจ ุฃู ููุนุงูู ุจูุฐุง ุงููุญูุ ุฐูู ุจุงุณุชุนูุงู ุงูุฎุงุตูุฉ `โ<script type="module">โ`.

ููุฐุง:

[codetabs src="say" height="140" current="index.html"]

<<<<<<< HEAD
ูุฌูุจ ุงููุชุตููุญ ุงูููุญุฏุฉ ุชููุงุฆููุง ููููู ุงูุดููุฑุฉ ุงูุจุฑูุฌูุฉ ุจุฏุงุฎููุง (ููุณุชูุฑุฏ ุฌููุน ุงููุญุฏุงุช ุงููุชุนููุฉ ุจูุง ุฅู ูุฒู ุงูุฃูุฑ)ุ ูุซูู ูุดุบููุง.
=======
The browser automatically fetches and evaluates the imported module (and its imports if needed), and then runs the script.

```warn header="Modules work only via HTTP(s), not in local files"
If you try to open a web-page locally, via `file://` protocol, you'll find that `import/export` directives don't work. Use a local web-server, such as [static-server](https://www.npmjs.com/package/static-server#getting-started) or use the "live server" capability of your editor, such as VS Code [Live Server Extension](https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer) to test modules.
```
>>>>>>> 340ce4342100f36bb3c4e42dbe9ffa647d8716c8


## ููุฒุงุช ุงูููุญุฏุงุช ุงูุฃุณุงุณูุฉ
=======

ูููู ูุง ุงููุฑู ุจูู ุงูููุญุฏุงุช ูุงูุณูุฑุจุชุงุช (ุงูุดููุฑุงุช) "ุงูุนุงุฏูุฉโ ุชููุ

ููููุญุฏุงุช ููุฒุงุช ุฃุณุงุณูุฉ ุชุนูู ุนูู ูุญุฑููุงุช ุฌุงูุงุณูุฑุจุช ูููุชุตููุญุงุช ูููุฎูุงุฏู ุนูู ุญุฏู ุณูุงุก.

### ุงููุถุน ุงูุตุงุฑู ุงูุฅูุชุฑุงุถู
ุชุณุชุฎุฏู ุงูููุญุฏุงุช ุงููุถุน ุงูุตุงุฑู ุชููุงุฆููุง ููุซููุง ุฅุณูุงุฏ ูููุฉ ููุชุญูู ุบูุฑ ูุนุฑูู ุณููุชุฌ ุฎุทุฃ.

```
<script type="module">
  a = 5; // ุฎุทุฃ
</script>
```

### ุงููุทุงู ุนูู ูุณุชูู ุงููุญุฏุงุช

ููู ููุญุฏุฉ ููุง ูุทุงู ุนุงูู ุงููุณุชูู ุฎุงุต ุจูุง. ุจุชุนุจูุฑู ุขุฎุฑุ ูู ูููุธุฑ ูููุชุบููุฑุงุช ูุงูุฏูุงูู ูู ุงููุญุฏุงุช ุงูุฃุฎุฑูุ ูุฅููุง ูููู ูุทุงู ุงููุชุบูุฑุงุช ูุญูู.

ูุฑู ูู ุงููุซุงู ุฃุฏูุงู ุฃููุง ุญููููุง ูุตููู ุจุฑูุฌูููุ ููุญุงูู ุงูููู `hello.js` ุงุณุชุนูุงู ุงููุชุบูุฑ `user` ุงููุตุฑูุญ ุนูู ูู ุงูููู `user.js` ููุง ููุฏุฑ:

[codetabs src="scopes" height="140" current="index.html"]

ุนูู ุงูููุญุฏุงุช ุชุตุฏูุฑ `export` ูุง ุชุฑูุฏ ููุขุฎุฑูู ูู ุฎุงุฑุฌูุง ุฑุคูุชูุ ูุงุณุชูุฑุงุฏ `import` ูุง ุชุญุชุงุฌ ุงุณุชุนูุงูู.

ูุฐุง ุนูููุง ุงุณุชูุฑุงุฏ `user.js` ู`hello.js` ูุฃุฎุฐ ุงููุฒุงูุง ุงููุทููุจุฉ ููููุง ุจุฏู ุงูุงุนุชูุงุฏ ุนูู ุงููุชุบููุฑุงุช ุงูุนููููุฉ.

ูุฐู ุงููุณุฎุฉ ุงูุตุญูุญุฉ ูู ุงูุดููุฑุฉ:

[codetabs src="scopes-working" height="140" current="hello.js"]

ููุฌุฏ ูู ุงููุชุตูุญ ูุทุงู ูุณุชูู ุนุงูู ุงููุณุชูู. ููู ููุฌูุฏ ุฃูุถูุง ูููุญุฏุงุช `โ<script type="module">โ`:

```
<script type="module">
  // ุณูููู ุงููุชุบูุฑ ูุฑุฆู ูู ูุฌุงู ูุฐู ุงูููุญุฏุฉ ููุท
  let user = "John";
</script>

<script type="module">
  *!*
  alert(user); // โซุฎุทุฃ: ุงููุชุบูุฑ user ุบูุฑ ูุนุฑูู
  */!*
</script>
```
ููู ุฃุฑุฏูุง ุฃู ููุดุฆ ูุชุบูุฑ ุนุงู ุนูู ูุณุชูู ุงููุงูุฐุฉ ูููููุง ุชุนูููู ุตุฑุงุญุฉ ูููุชุบููุฑ `window` ููููููุง ุงููุตูู ุฅููู ููุฐุง `window.user`. ูููู ูุงุจุฏ ูู ูุฌูุฏ ุณุจุจ ูุฌููู ูุฐูู.

### ุชูููู ุดููุฑุฉ ุงูููุญุฏุฉ ููุฑุฉ ูุงุญุฏุฉ ููุท

ูู ุงุณุชูุฑุฏุชู ููุณ ุงูููุญุฏุฉ ูู ุฃูุซุฑ ูู ููุงูุ ููุง ุชููููุฐ ุดููุฑุชูุง ุฅููุง ูุฑุฉ ูุงุญุฏุฉุ ูุจุนุฏูุง ุชูุตุฏูุฑ ุฅูู ูู ุงุณุชูุฑุฏูุง.

ูููุฐุง ุชูุงุจุน ูููู ูุนุฑูุชูุง. ููุฑู ุจุนุถ ุงูุฃูุซูุฉ.

ุฃูููุงุ ูู ูุงู ูุดููุฑุฉ ุงูููุญุฏุฉ ุงูุชู ุณุชููููุฐ ุฃูู ุชุฃุซูุฑุงุช (ูุซู ุนุฑุถ ุฑุณุงูุฉ ุฃู ูุง ุดุงุจู)ุ ูุงุณุชูุฑุงุฏูุง ุฃูุซุฑ ูู ูุฑูุฉ ุณูุดุบูู ุฐูู ุงูุชุฃุซูุฑ ูุฑุฉ ูุงุญุฏุฉุ ููู ุฃูู ูุฑุฉ ููุท:

```
// ๐ alert.js
alert("Module is evaluated!"); // โซููููุฐุช ุดููุฑุฉ ุงูููุญุฏุฉ!
```

```
// ูุณุชูุฑุฏ ููุณ ุงูููุญุฏุฉ ูู ุฃูุซุฑ ูู ููู

// ๐ 1.js
import `./alert.js`; // โซููููุฐุช ุดููุฑุฉ ุงูููุญุฏุฉ!

// ๐ 2.js
import `./alert.js`; // (ูุง ูุฑู ุดูุฆูุง ููุง)
```

ูู ุงููุงูุนุ ูุดููุฑุงุช ุงูููุญุฏุงุช ุนุงููุฉ ุงููุณุชูู ูู ุจููุฉ ุงูุจุฑูุฌูุฉ ูุง ุชูุณุชุนูู ุฅููุง ูุชูููุฏ ุจูู ุงูุจูุงูุงุช ุงูุฏุงุฎููุฉ ูุฅูุดุงุฆูุง. ููู ุฃุฑุฏูุง ุดูุฆูุง ููุนูุฏ ุงุณุชุนูุงููุ ููุตุฏูุฑ ุงูููุญุฏุฉ.

ุงูุขู ุญุงู ููุช ูุซุงู ูุณุชูุงู ูุชูุฏูู ุฃูุซุฑ.

ูููู ุจุฃูู ููุงู ูุญุฏุฉ ุชูุตุฏูุฑ ูุงุฆููุง:

```
// ๐ admin.js
export let admin = {
  name: "John"
};
```

ูู ุงุณุชูุฑุฏูุง ูุฐู ุงูููุญุฏุฉ ูู ุฃูุซุฑ ูู ูููุ ููุง ุชููููุฐ ุดููุฑุฉ ุงูููุญุฏุฉ ุฅููุง ุฃูู ูุฑุฉุ ุญูููุง ููุตูุน ูุงุฆู ุงููุฏูุฑ `admin` ููููุฑูุฑ ุฅูู ููู ูู ุงุณุชูุฑุฏ ุงูููุญุฏุฉ.

ูููุฐุง ุชุณุชูู ููู ุงูุดููุฑุงุช ูุงุฆู ูุฏูุฑ `admin` ูุงุญุฏ ููุท ูุง ุฃูุซุฑ ููุง ุฃูู:

```
// ๐ 1.js
import {admin} from './admin.js';
admin.name = "Pete";

// ๐ 2.js
import {admin} from './admin.js';
alert(admin.name); // Pete

*!*
// โซูููุง ุงูููููู โ1.js ู โ2.js ุณูุณุชูุฑุฏุงู ููุณ ุงููุงุฆู
// โซุงูุชุบููุฑุงุช ุงููุชู ุณุชุญุฏุซู ูู ุงูููู โ1.js ุณุชููู ูุฑุฆูุฉ ูู ุงูููู โ2.js
*/!*
```

ูููุคูุฏ ูุฌุฏุฏูุง -- ุชูููุฐู ุงูููุญุฏุฉ ููุฑุฉ ูุงุญุฏุฉ ููุท. ูุชููุดุฆ ุงูููุญุฏุงุช ุงููุฑุงุฏ ุชุตุฏูุฑูุง ูุชูุดุงุฑู ุจูู ุงููุณุชูุฑุฏูู ูุฐุง ูุฅู ุชุบูุฑ ุดูุก ูุง ูู ูุงุฆู `admin` ูุณุชุฑู ุงูููุญุฏุงุช ุงูุฃุฎุฑู ุฐูู.

ูุชูุญ ููุง ูุฐุง ุงูุณููู โุถุจุทโ ุงูููุญุฏุฉ ุนูุฏ ุฃููู ุงุณุชูุฑุงุฏ ููุงุ ููุถุจุท ุฎุงุตูุงุชูุง ุงููุฑุฉ ุงูุฃูููุ ููุชู ูุง ุงุณุชููุฑุฏุช ูุฑุฉ ุฃุฎุฑู ุชููู ุฌุงูุฒุฉ.

ููุซููุง ูุฏ ุชูุฏูู ููุง ูุญุฏุฉ `admin.js` ุจุนุถ ุงููุฒุงูุง ูููู ุชุทูุจ ุฃู ุชุฃุชู ุงูุชูุงุฒุงุช ุงูุฅุฏุงุฑุฉ ูู ุฎุงุฑุฌ ูุงุฆู `admin` ุฅูู ุฏุงุฎูู:

```
// ๐ admin.js
export let admin = { };

export function sayHi() {
  alert(`Ready to serve, ${admin.name}!`);
}
```

ูุถุจุท ูู `init.js` (ุฃููู ูุต ุจุฑูุฌู ูุชุทุจูููุง) ุงููุชุบูุฑ `admin.name`. ุจุนุฏูุง ุณูุฑุงู ููู ูู ุฃุฑุงุฏ ุจูุง ูู ุฐูู ุงูุงุณุชุฏุนุงุกุงุช ูู ุฏุงุฎู ูุญุฏุฉ `admin.js` ููุณูุง:

```
// ๐ init.js
import {admin} from './admin.js';
admin.name = "Pete";
```

ููููู ููุญุฏุฉ ุฃุฎุฑู ุงุณุชุนูุงู `admin.name`:

```
// ๐ other.js
import {admin, sayHi} from './admin.js';

alert(admin.name); // *!*Pete*/!*

sayHi(); // Ready to serve, *!*Pete*/!*!
```

### import.meta

ูุญุชูู ุงููุงุฆู `import.meta` ุนูู ูุนูููุงุช ุงูููุญุฏุฉ ุงูุญุงููุฉ.

ููุนุชูุฏ ูุญุชูุงูุง ุนูู ุงูุจูุฆุฉ ุงูุญุงููุฉุ ููู ุงููุชุตููุญุงุช ูุญุชูู ุนูู ุนููุงู ุงููุต ุงูุจุฑูุฌู ุฃู ุนููุงู ุตูุญุฉ ุงูููุจ ุงูุญุงููุฉ ูู ูุงู ุฏุงุฎู HTML:

```
html run height=0
<script type="module">
  alert(import.meta.url); // โซุนููุงู URL ููุณูุฑุจุช (ุนููุงู URL ูุตูุญุฉ HTML ููุณูุฑุจุช ุงูุถููู)
</script>
```

### `this` ูู ุงูููุญุฏุงุช ููุณุช ูุนุฑููุฉ

ูุฏ ุชููู ูุฐู ุงูููุฒุฉ ุตุบูุฑุฉุ ูููููุง ุณูุฐูุฑูุง ูููุชูู ูุฐุง ุงููุตู.

ูู ุงููุญุฏุงุชุ ูููุฉ `this` ุนุงููุฉ ุงููุณุชูู ุบูุฑ ูุนุฑููุฉ.

ูุงุฒู ุจูููุง ูุจูู ุงูุณูุฑุจุชุงุช ุบูุฑ ุงููุนุชูุฏุฉ ุนูู ุงููุญุฏุงุชุ ุฅุฐ ุณุชููู `this` ูุงุฆููุง ุนุงููุง:

```
html run height=0
<script>
  alert(this); // window
</script>

<script type="module">
  alert(this); // ุบูุฑ ูุนุฑูู
</script>
```

## ุงูููุฒุงุช ุงูุฎุงุตุฉ ุจุงููุชุตููุญุงุช

ููุง ุฃู ููุงู ุนุฏูุฉ ูุฑูู ุชุฎุตู ุงููุชุตูุญุงุช ุงูุณูุฑุจุชุงุช (ุงููุนุชูุฏุฉ ุนูู ุงููุญุฏุงุช) ุจุงูููุน `type="module"โ` ููุงุฒูุฉู ุจุชูู ุงูุนุงุฏูุฉ.

ูู ููุช ุชูุฑุฃ ูุฐุง ุงููุตู ูุฃูู ูุฑุฉุ ุฃู ูู ุชูู ุชุณุชุนูู ุงููุญุฑูู ูู ุงููุชุตููุญ ูููููู ุชุฎุทูู ูุฐุง ุงููุณู.

### ุณูุฑุจุชุงุช ุงูููุญุฏุงุช ูุคุฌูุฉ

ุฏุงุฆููุง ูุง ุชููู ุณูุฑุจุชุงุช ุงูููุญุฏุงุช ูุคุฌูุฉุ ููุดุงุจูุฉ ูุชุฃุซูุฑ ุงูุณููุฉ `defer` (ุงูููุถุญุฉ ูู ูุฐุง [ุงูููุงู](https://javascript.info/script-async-defer))ุ ููู ูู ุงูุณูุฑุจุชุงุช ุงููุถูููุฉ ูุงูุฎุงุฑุฌูุฉ.

ุฃู ูุจุนุจุงุฑุฉ ุฃุฎุฑู:
- ุชูุฒูู ุงูุณูุฑุจุชุงุช ุงููุนุชูุฏุฉ ุนูู ุงูููุญุฏุงุช ุงูุฎุงุฑุฌูุฉ `โ<script type="module" src=โ"...">โ` ูุง ุชูููู ูุนุงูุฌุฉ HTML ูุชูุญููู ุจุงูุชูุงุฒู ูุน ุงูููุงุฑุฏ ุงูุฃุฎุฑู.
- ุชูุชุธุฑ ุงูุณูุฑุจุชุงุช ุงููุนุชูุฏุฉ ุนูู ุงูููุญุฏุงุช ุญุชูู ูุฌูุฒ ูุณุชูุฏ HTML ุชูุงููุง (ุญุชูู ูู ูุงูุช ุตุบูุฑุฉ ูุญููููุช ุจูุญูู ุฃุณุฑุน ูู HTML) ูุชูุดุบูู ุนูุฏูุง.
- ุชุญุงูุธ ุนูู ุงูุชุฑุชูุจ ุงููุณุจู ููุณูุฑุจุชุงุช: ูุงูุณูุฑุจุช ุฐู ุงูุชุฑุชูุจ ุงูุฃูู ูููุฐู ุฃูููุง.

ููุณุจูุจ ูุฐุง ุจุฃู โุชุฑูโ ุงูุณูุฑุจุชุงุช ุงููุนุชูุฏุฉ ุนูู ุงูููุญุฏุงุช ุตูุญุฉ HTML ุงููุญูููุฉ ูุงููุฉ ุจูุง ููู ุนูุงุตุฑ ุงูุดุฌุฑุฉ ุฃุณูููุง.

ูุซุงู:

```
<script type="module">
*!*

  alert(typeof button); // โซูุงุฆู (object): ูุณุชุทูุน ุงูุณูุฑุจุช ุฑุคูุฉ ุงูุนูุงุตุฑ ุฃุฏูุงู
*/!*
  // ุจูุง ุฃู ุงูููุญุฏุงุช ูุคุฌูุฉ. ุณููุดุบู ุงูุณูุฑุจุช ุจุนุฏ ุชุญููู ูุงูู ุงูุตูุญุฉ
</script>

Compare to regular script below:

<script>
*!*

  alert(typeof button); // โซุฎุทุฃ: ุงูุฒุฑ (button) ุบูุฑ ูุนุฑูู. ูู ูุณุชุทูุน ุงูุณูุฑุจุช ุฑุคูุฉ ุงูุนูุงุตุฑ ุฃุฏูุงู
*/!*
  // ุงูุณูุฑุจุช ุงูุนุงุฏู ุณููุดุบู ูุจุงุดุฑุฉ ูุจู ุฃู ููุณุชููู ุชุญููู ุงูุตูุญุฉ 
</script>

<button id="button">Button</button>
```

ูุงุญูุธ ููู ุฃูู ุงููุต ุงูุจุฑูุฌู ุงูุซุงูู ููุดุบูู ูุนูููุง ูุจู ุงูุฃูู! ูุฐุง ุณูุฑู ุฃูููุง `undefined` ูุจุนุฏูุง `object`.
ูุฐูู ุจุณุจุจ ููู ุนูููุฉ ุชุดุบูู ุงูููุญุฏุงุช ููุคุฌูุฉ ูุฐูู ุณููุชุธุฑ ูุงูุชูุงู ูุนุงูุฌุฉ ุงููุณุชูุฏ. ููุงุญุธ ุฃู ุงูุณูุฑุจุช ุงูุนุงุฏู ุณููุดุบูู ูุจุงุดุฑุฉ ุจุฏูู ุชุฃุฌูู ููุฐุง ุณูุฑู ูุชุงุฆุฌู ุฃูููุง.

ุนูููุง ุฃู ูุญุฐุฑ ุญูู ูุณุชุนูู ุงูููุญุฏุงุช ุฅุฐ ุฃูู ุตูุญุฉ HTML ุชุธูุฑ ุจูููุง ุงูููุญุฏุงุช ุชูุญูููุ ูุจุนุฏูุง ุชุนูู ุงููุญุฏุงุช. ุจูุฐุง ูููู ุฃู ูุฑู ุงููุณุชุฎุฏู ุฃุฌุฒุงุกู ูู ุงูุตูุญุฉ ูุจู ุฃู ูุฌูุฒ ุชุทุจูู ุฌุงูุงุณูุฑุจุชุ ููุฑู ุจุฃูู ุจุนุถ ุงููุธุงุฆู ูู ุงููููุน ูุง ุชุนูู ุจุนุฏ. ุนูููุง ููุง ูุถุน โูุคุดูุฑุงุช ุชุญูููโ ุฃู ุงูุชุซุจูุช ูู ุฃูู ุงูุฒุงุฆุฑ ูู ูุชุดุชูุช ุจูุฐุง ุงูุฃูุฑ.

### ุฎุงุตูุฉ Async ุนูู ุงูุณูุฑุจุชุงุช ุงููุถูููุฉ

ุจุงููุณุจุฉ ููุณูุฑุจุชุงุช ุบูุฑ ุงููุนุชูุฏุฉ ุนูู ุงูููุญุฏุงุช ูุฅู ุฎุงุตูุฉ `async` (ุงุฎุชุตุงุฑูุง ููููุฉ Asynchronous ุฃู ุบูุฑ ุงููุชุฒุงูู) ุชุนูู ุนูู ุงูุณูุฑุจุชุงุช ุงูุฎุงุฑุฌูุฉ ููุท. ูุชูุดุบู ุงูุณูุฑุจุชุงุช ุบูุฑ ุงููุชุฒุงููุฉ ูุจุงุดุฑุฉ ุนูุฏูุง ุชููู ุฌุงูุฒุฉุุจุดูู ูุณุชูู ุนู ุงูุณูุฑุจุชุงุช ุงูุฃุฎุฑู ุฃู ุนู ูุณุชูุฏ HTML.

ุชุนูู ุงูุณูุฑุจุชุงุช ุงููุนุชูุฏุฉ ุนูู ุงูููุญุฏุงุช ุทุจูุนููุง ูู ุงูุณูุฑุจุชุงุช ุงููุถูููุฉ.

ููุซููุง ูุญุชูู ุงูุณูุฑุจุช ุงูููุถูู ุฃุฏูุงู ุนูู ุงูุฎุงุตูุฉ `async`ุ ูุฐูู ุณููุดุบูู ูุจุงุดุฑุฉ ููู ููุชุธุฑ ุฃู ุดูุก.

ููู ูููุฐ ุนูููุฉ ุงูุงุณุชูุฑุงุฏ (ุงุฌูุจ ุงูููู `./analytics.js`) ูุดุบูู ุนูุฏูุง ูุตุจุญ ุฌุงูุฒูุงุ ุญุชู ูุฅู ูู ููุชูู ูุณุชูุฏ HTML ุจุนุฏ. ุฃู ุงูุณูุฑุจุชุงุช ุงูุฃูุฎุฑู ูุง ุชุฒุงู ูุนูููุฉ.

ููุฐุง ุฌูุฏ ููุชูุงุจุน ุงููุณุชููุฉ ูุซู ุงูุนุฏุงุฏุงุช ูุงูุฅุนูุงูุงุช ููุณุชูุน ุงูุฃุญุฏุงุซ ุนูู ูุณุชูู ุงููุณุชูุฏ.

ูู ุงููุซุงู ุฃุฏูุงูุ ุฌููุจุช ุฌููุน ุงูุชุจุนูุงุช (ูู ุถูููุง analytics.js).โซ ููู ุซูู ุดูุบูู ุงูุณูุฑุจุช ููู ููุชุธุฑ ุญุชู ุงูุชูุงู ุชุญููู ุงููุณุชูุฏ ุฃู ุงูุณูุฑุจุชุงุช ุงูุฃุฎุฑู.
```
<script *!*async*/!* type="module">
  import {counter} from './analytics.js';

  counter.count();
</script>
```

### ุงูุณูุฑุจุชุงุช ุงูุฎุงุฑุฌูุฉ

ุชุฎุชูู ุงูุณูุฑุจุชุงุช ุงูุฎุงุฑุฌูุฉ ุงูุชู ุชุญุชูู ุนูู ุงูุณูุฉ `type="module"โ` ูู ุฌุงูุจูู:
1. ุชููุฐ ุงูุณูุฑุจุชุงุช ุงูุฎุงุฑุฌูุฉ ุงูุชู ููุง ููุณ ุงููููุฉ ููุฎุงุตูุฉ `src` ูุฑุฉ ูุงุญุฏุฉ ููุท.
    ูููุง ูุซููุง ุณููุฌูุจ ุงูุณูุฑุจุช `my.js` ููููุฐ ูุฑุฉ ูุงุญุฏุฉ ููุท.
    ```
    <script type="module" src="my.js"></script>
    <script type="module" src="my.js"></script>
    ```

2. ุชุชุทูุจ ุงูุณูุฑุจุชุงุช ุงูุฎุงุฑุฌูุฉ ุงูุชู ุชุฌูุจ ูู ูุตุฏุฑ ูุณุชูู (ูููุน ูุฎุชูู ุนู ุงูุฃุณุงุณู) ุชุฑููุณุงุช [CORS](https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS) ูุงูููุถุญุฉ ูู ูุฐุง [ุงูููุงู](https://javascript.info/fetch-crossorigin). ุจุชุนุจูุฑ ุขุฎุฑ ุฅู ุฌูููุจู ุณูุฑุจุช ูุนุชูุฏ ุนูู ุงูููุญุฏุงุช ูู ูุตุฏุฑ ูุนูู ููุฌุจ ุนูู ุงูุฎุงุฏู ุงูุจุนูุฏ ุฃู ูุฏุนู ุชุฑููุณุงุช ุงูุณูุงุญ ุจุงูุฌูุจ `Access-Control-Allow-Origin`.
    ูุฌุจ ุฃู ูุฏุนู ุงููุตุฏุฑ ุงููุณุชูู `Access-Control-Allow-Origin` (ูู ุงููุซุงู ุฃุฏูุงู ุงููุตุฏุฑ ุงููุณุชูู ูู another-site.com) ูุฅูุง ููู ูุนูู ุงูุณูุฑุจุช.
    ```
    <script type="module" src="*!*http://another-site.com/their.js*/!*"></script>
    ```

ูุฐูู ุณูุถูู ููุง ูุณุชูู ุฃูุงู ุฃูุถู ุฅูุชุฑุงุถููุง.

### ูุง ููุณูุญ ุจุงููุญุฏุงุช ุงููุฌุฑุฏุฉ

ูู ุงููุชุตูุญุ ูุฌุจ ุฃู ุชุญุตู ุชุนูููุฉ `import` ุนูู ุนููุงู URL ูุณุจู ุฃู ูุทูู. ูุชุณูู ุงูููุญุฏุงุช ุงูุชู ุจุฏูู ุฃู ูุณุงุฑ ุจุงููุญุฏุงุช ุงููุฌุฑุฏุฉ. ููู ููููุน ูู ุชุนูููุฉ `import`.

ููุฃุฎุฐ ูุซุงููุง ููุถุญ ุงูุฃูุฑุ ูุฐุง `import` ุบูุฑ ุตุงูุญ:


```
import {sayHi} from 'sayHi'; // ุฎุทุฃ ููุญุฏุฉ ูุฌุฑุฏุฉ
// โซูุฌุจ ุฃู ุชูุชูู ุงูููุญุฏุฉ ูุณุงุฑูุง ูุซู: 'โ./sayHi.js' ุฃู ูููุง ููู ูููุน ูุฐู ุงูููุญุฏุฉ
```
ุชุณูุญ ุจุนุถ ุงูุจูุฆุงุชุ ูุซู Node.js ุฃู ุฃุฏูุงุช ุชุฌููุน ุงูููุญุฏุงุช ุจุงุณุชุฎุฏุงู ุงูููุญุฏุงุช ุงููุฌุฑุฏุฉุ ุฏูู ุฃู ูุณุงุฑุ ุญูุซ ุฃู ูุฏููุง ุทุฑููุง ุงูุฎุงุตุฉ ููุนุซูุฑ ุนูู ุงูููุญุฏุงุช ูุงูุฎุทุงูุงุช ูุถุจุทูุง. ูููู ุญุชู ุงูุขู ูุง ุชุฏุนู ุงููุชุตูุญุงุช ุงูููุญุฏุงุช ุงููุฌุฑุฏุฉ.

### ุงูุชูุงูููุฉ ุจุงุณุชุฎุฏุงู "nomodule"

ูุง ุชููู ุงููุชุตูุญุงุช ุงููุฏููุฉ ุทุฑููุฉ ุงุณุชุฎุฏุงู ุงูููุญุฏุงุช ูู ุงูุตูุญุงุช `type ="module"โ`.ุจู ูุฅููุง ุชุชุฌุงูู ุงูุณูุฑุจุช ุฐู ุงูููุนู ุบูุฑ ุงููุนุฑูู. ุจุงููุณุจุฉ ูููุ ูู ุงููููู ุชูุฏูู ูุณุฎุฉ ูุฎุตุตุฉ ููู ุจุงุณุชุฎุฏุงู ุงูุณูุฉ `nomodule`:

```
<script type="module">
  alert("Runs in modern browsers");
</script>

<script nomodule>
  alert("Modern browsers know both type=module and nomodule, so skip this"):// โซุงููุชุตูุญุงุช ุงูุญุฏูุซุฉ ุชุนุฑู type=module  ู nomodule ูุฐุง ูู ุชููุฐ ุงูุฃุฎูุฑ
  alert("Old browsers ignore script with unknown type=module, but execute this.");// โซุงููุชุตูุญุงุช ุงููุฏููุฉ ุณุชุชุฌุงูู ุงููุณู ุฐู ุงูุณููุฉ type=module ูููู ุณุชููุฐ ูุณู nomodule 
</script>
```
## ุฃุฏูุงุช ุงูุจูุงุก

ูู ุงูุญูุงุฉ ุงููุงูุนูุฉุ ูุงุฏุฑูุง ูุง ุชุณุชุฎุฏู ูุญุฏุงุช ุงููุชุตูุญ ูู ุดูููุง "ุงูุฎุงู". ุจู ุนุงุฏุฉู ูุฌูุนูุง ูุน ุฃุฏุงุฉ ุฎุงุตุฉ ูุซู [Webpack] (https://webpack.js.org/) ูููุดุฑูุง ุนูู ุฎุงุฏู ุงููุดุฑ.

ุฅุญุฏู ูุฒุงูุง ุงุณุชุฎุฏุงู ุงููุฌูุนุงุช - ููู ุชููุญ ุงููุฒูุฏ ูู ุงูุชุญูู ูู ููููุฉ ุงูุชุนุงูู ูุน ุงููุญุฏุงุชุ ููุง ูุณูุญ ุจุงููุญุฏุงุช ุงููุฌุฑุฏุฉ ุจู ูุฃูุซุฑ ูู ุฐูู ุจูุซูุฑุ ูุซู ูุญุฏุงุช HTML/CSS.

ุชุคุฏู ุฃุฏูุงุช ุงูุจูุงุก ุจุนุถ ุงููุธุงุฆู ูููุง:

1. ุฌูุจ ุงูููุญุฏุฉ ุงูุฑุฆูุณูุฉ `main`ุ ููู ุงูููุญุฏุฉ ุงููุฑุงุฏ ูุถุนูุง ูู ูุณู `โ<script type ="module">โ` ูู ููู HTML.
2. ุชุญููู ุงูุชุจุนูุงุช: ุชุญููู ุชุนูููุงุช ุงูุงุณุชูุฑุงุฏ ุงูุฎุงุตุฉ ุจุงูููู ุงูุฑุฆูุณู ูุซู ูููููุงุช ุงููุณุชูุฑุฏุฉ ุฃูุถูุง ููุง ุฅูู ุฐูู.
3. ุฅูุดุงุก ููููุง ูุงุญุฏูุง ูุญุชูู ุนูู ุฌููุน ุงูููุญุฏุงุช (ูุน ุฅููุงููุฉ ุชูุณูููู ููููุงุช ูุชุนุฏุฏุฉ)ุ ูุน ุงุณุชุจุฏุงู ุชุนูููุฉ `import` ุงูุฃุตููุฉ ุจุชูุงุจุน ุงูุญุฒู ููู ูุนูู ุงูุณูุฑุจุช. ููุง ุชุฏุนู ุฃููุงุน ูุญุฏุงุช "ุฎุงุตุฉ" ูุซู ูุญุฏุงุช HTML/CSS.
4. ูููููุง ุชุทุจูู ุนูููุงุช ุชุญููู ูุชุญุณููุงุช ุฃุฎุฑู ูู ูุฐู ุงูุนูููุฉ ูุซู:
    - ุฅุฒุงูุฉ ุงูุดููุฑุงุช ุงููุชู ูุชุนุฐุฑ ุงููุตูู ุฅูููุง.
    - ุฅุฒุงูุฉ ุชุนูููุงุช ุงูุชุตุฏูุฑ ุบูุฑ ุงููุณุชุฎุฏูุฉ (ูุดุงุจูุฉ ูุนูููุฉ ูุฒ ุงูุฃุดุฌุงุฑ ูุณููุท ุงูุฃูุฑุงู ุงููุงุจุณุฉ).
    - ุฅุฒุงูุฉ ุงูุนุจุงุฑุงุช ุงูุฎุงุตุฉ ุจูุฑุญูุฉ ุงูุชุทููุฑ ูุซู `console` ู`debugger`.
    - ุชุญููู ุดููุฑุฉ ุฌุงูุงุณูุฑุจุช ุงูุญุฏูุซุฉ ุฅูู ุดููุฑุฉ ุฃูุฏู ุจุงุณุชุฎุฏุงู ูุธุงุฆู ููุงุซูุฉ ููุญุฒูุฉ [Babel] (https://babeljs.io/).
    - ุชุตุบูุฑ ุงูููู ุงููุงุชุฌ (ุฅุฒุงูุฉ ุงููุณุงูุงุชุ ูุงุณุชุจุฏุงู ุงููุชุบูุฑุงุช ุจุฃุณูุงุก ุฃูุตุฑุ ููุง ุฅูู ุฐูู).

ุนูุฏ ุงุณุชุฎุฏุงููุง ูุฃุฏูุงุช ุงูุชุฌููุน ุณููุฌูุน ุงูุณูุฑุจุช ููุตุจุญ ูู ููู ูุงุญุฏ (ุฃู ูููุงุช ููููุฉ) ุ ุชูุณุชุจุฏู ุชุนูููุงุช `import/export` ุจุฏุงุฎู ุงูุณูุฑุจุชุงุช ุจุชูุงุจุน ุงูููุฌููุน ุงูุฎุงุตุฉ. ูุฐูู ูุง ูุญุชูู ุงูุณูุฑุจุช "ุงูููุฌูููุน" ุงููุงุชุฌ ุนูู ุฃู ุชุนูููุงุช `import/export`ุ ููุง ูุชุทูุจ ุงูุณููุฉ `type="module"โ`ุ ููููููุง ูุถุนู ูู ุณูุฑุจุช ุนุงุฏู:
ูู ุงููุซุงู ุฃุฏูุงู ูููุชุฑุถ ุฃููุง ุฌูุนููุง ุงูุดููุฑุงุช ูู ููู bundle.js ุจุงุณุชุฎุฏุงู ูุฌูุน ุญุฒู ูุซู: Webpack.
```
<script src="bundle.js"></script>
```
ููุน ุฐูู ูููููุง ุงุณุชุฎุฏุงู ุงูููุญุฏุงุช ุงูุฃุตููุฉ (ูู ุดูููุง ุงูุฎุงู). ูุฐูู ูู ูุณุชุฎุฏู ููุง ุฃุฏุงุฉ Webpack: ููููู ุงูุชุนุฑู ุนูููุง ูุถุจุทูุง ูุงุญููุง.

## ุฎูุงุตุฉ

ูููุฎุต ุงูููุงููู ุงูุฃุณุงุณูุฉ:

1. ุงูููุญุฏุฉ ูู ูุฌุฑุฏ ููู. ูุฌุนู ุชุนูููุชู `import/export` ุชุนููุงูุ ุณุชุญุชุงุฌ ุงููุชุตูุญุงุช ุฅูู ูุถุน ุงูุณููุฉ ุงูุชุงููุฉ `โ<script type ="module">โ`. ุชุญุชูู ุงูููุญุฏุงุช ุนูู ุนุฏุฉ ููููุฒุงุช:
    - ูุคุฌูุฉ ุฅูุชุฑุงุถููุง.
    - ุชุนูู ุงูุฎุงุตูุฉ Async ุนูู ุงูุณูุฑุจุชุงุช ุงููุถูููุฉ.
    - ูุชุญููู ุงูุณูุฑุจุชุงุช ุงูุฎุงุฑุฌูุฉ ูู ูุตุฏุฑ ูุณุชููุ ูุฌุจ ุงุณุชุฎุฏุงู ุทุฑููุฉ (ุงูููููุฐ / ุงูุจุฑูุชูููู / ุงููุฌุงู)ุ ูุณูุญุชุงุฌ ูุชุฑููุณุงุช CORS ุฃูุถูุง.
    - ุณุชูุชุฌุงูู ุงูุณูุฑุจุชุงุช ุงูุฎุงุฑุฌูุฉ ุงูููุฑุฑุฉ.
2. ููู ููุญุฏุฉ ูู ุงูููุญุฏุงุช ูุทุงู ุฎุงุต ุจูุงุ ูุชุชุจุงุฏูู ุงููุธุงุฆู ูููุง ุจูููุง ูู ุฎูุงู ุงุณุชูุฑุงุฏ ูุชุตุฏูุฑ ุงูููุญุฏุงุช `import/export`.
3. ุชุณุชุฎุฏู ุงูููุญุฏุงุช ุงููุถุน ุงูุตุงุฑู ุฏูููุง `use strict`.
4. ุชูููุฐ ุดููุฑุฉ ุงูููุญุฏุฉ ููุฑุฉ ูุงุญุฏุฉ ููุท. ูุชูุตุฏุฑ ุฅูู ูู ุงุณุชูุฑุฏูุง ููุฑุฉ ูุงุญุฏุฉ ุฃูุถูุงุ ููู ุซูู ุชูุดุงุฑู ุจูู ุงููุณุชูุฑุฏูู.

ุนูุฏูุง ูุณุชุฎุฏู ุงููุญุฏุงุชุ ุชููุฐ ูู ููุญุฏุฉ ูุธููุฉ ูุนููุฉ ูุชูุตุฏุฑูุง. ููุณุชุฎุฏู ุชุนูููุฉ `import` ูุงุณุชูุฑุงุฏูุง ูุจุงุดุฑุฉ ุนูุฏ ุงูุญุงุฌุฉ. ุฅุฐ ููุญูู ุงููุชุตูุญ ุงูุณูุฑุจุช ููููููู ุชููุงุฆููุง.

ูุจุงููุณุจุฉ ููุถุน ุงููุดุฑุ ุบุงูุจูุง ูุง ูุณุชุฎุฏู ุงููุงุณ ููุญุฒูู ุงูููุญุฏุงุช ูุซู [Webpack] (https://webpack.js.org) ูุชุฌููุน ุงูููุญุฏุงุช ูุนูุง ูุฑูุน ุงูุฃุฏุงุก ููุฃุณุจุงุจ ุฃุฎุฑู.

ุณูุฑู ูู ุงููุตู ุงูุชุงูู ูุฒูุฏูุง ูู ุงูุฃูุซูุฉ ุนู ุงูููุญุฏุงุชุ ูููููุฉ ุชุตุฏูุฑูุง ูุงุณุชูุฑุงุฏูุง.

ุชุฑุฌูุฉ -ูุจุชุตุฑู- ูููุตู [Modules, introduction](https://javascript.info/modules-intro) ูู ูุชุงุจ [The JavaScript language](https://javascript.info/js)
