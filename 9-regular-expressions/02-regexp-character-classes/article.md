# فئات الأحرف

أعتبر هذه المهمه تدريب -- لدينا رقم هاتف خلوي مثل `"+7(903)-123-45-67"`, ونريد تحويله من هذا الشكل الي أرقام فقط: `79031234567`.

للقيام بذلك ، يمكننا العثور على وإزالة أي شيء ليس رقمًا. يمكن أن تساعد فئات الأحرف في ذلك.

*فئات الاحرف*  هو رمز خاص يطابق أي رمز من مجموعة معينة.
 

على سبيل المثال ، دعنا نعثر على الرقم الأول في رقم الهاتف:

```js run
let str = "+7(903)-123-45-67";

let regexp = /\d/;

alert( str.match(regexp) ); // 7
```

بدون العلم `pattern:g`, التعبير المنتظم ينظر فقط للمتطابقة الاولي, والذي يكون الرقم الاول `pattern:\d`.

لنقم بأضافة العلم `pattern:g` لأيجاد كل الارقام:

```js run
let str = "+7(903)-123-45-67";

let regexp = /\d/g;

alert( str.match(regexp) ); // مصفوفة من المتطابقات: 7,9,0,3,1,2,3,4,5,6,7

// دعنا نحصل علي أرقام الهاتف الحلوي فقط
alert( str.match(regexp).join('') ); // 79031234567
```

وهذا كان فئة الحرف للأرقام. هناك فئات الاحرف الاخري كذلك.

الأكثر أستخداماً:

`pattern:\d` ( الحرف "d" جاء من كلمة "digit" )
: الرقم: يكون من `0` الي `9`.

`pattern:\s` ( الحرف "s" جاء من كلمة "space")
: رمز المسافة: يحتوي علي مسافات او مسافات طويلة `\t` او أسطر جديده `\n` وعدد قليل من الاحرف النادرة الاخري, مثل `\v` و `\f` و `\r`.

`pattern:\w` ( الحرف "w" جاء من كلمة "word")
: الحرف هذا: إما حرف الأبجدية اللاتينية أو رقم أو تسطير أسفل السطر `_`. لا تنتمي الأحرف غير اللاتينية (مثل السيريلية أو الهندية) `pattern:\w`.

علي سبيل المثال, `pattern:\d\s\w` الرمز هذا يعني رقم يأتي بعده مسافة ثم يُتبع بحرف, مثل `match:1 a`.

**قد يحتوي التعبير المنتظم على كل من الرموز المنتظمة وفئات الاحرف.**

علي سبيل المثال, `pattern:CSS\d` ينتج عنه نص `match:CSS` مع رقم يأتي بعده:

```js run
let str = "Is there CSS4?";
let regexp = /CSS\d/

alert( str.match(regexp) ); // CSS4
```

أيضاً نستطيع أستخدام الكثير من فئات الأحرف:

```js run
alert( "I love HTML5!".match(/\s\w\w\w\w\d/) ); // ' HTML5'
```

الناتج (كل فئة حرف تقابلها الناتج الخاص بها):

![](love-html5-classes.svg)

## الفئات العكسية

يوجد لكل فئة أحرف "فئة معكوسة" ، يُشار إليها بالحرف نفسه ، ولكن بالأحرف الكبيرة.

يعني "معكوس" أنه يطابق جميع الأحرف الأخرى ، على سبيل المثال:

`pattern:\D`
: غير رقمي: أي حرف ما عدا `pattern:\d`, علي سبيل المثال حرف نصي.

`pattern:\S`
: بدون مسافة: أي حرف ما عدا `pattern:\s`, علي سبيل المثال حرف نصي.

`pattern:\W`
: حرف غير نصي: أي شئ لكن `pattern:\w`, علي سبيل المثال حرف غير لاتيني او مسافة.

في بداية الفصل رأينا كيفية صنع رقم هاتف لرقم فقط من النص مثل`subject:+7(903)-123-45-67`: أيجاد كل الارقام وتم جمعهم.

```js run
let str = "+7(903)-123-45-67";

alert( str.match(/\d/g).join('') ); // 79031234567
```

طريقة بديلة ,أسهل هي العثور علي أي شئ غير الارقام `pattern:\D` من النص و حذفه من النص:

```js run
let str = "+7(903)-123-45-67";

alert( str.replace(/\D/g, "") ); // 79031234567
```

## النقطة هي "أي حرف"

النقطة `pattern:.` تكون فئة حرف ويكون الناتج الخاص بها "أي حرف ما عدا سطر جديد".

علي سبيل المثال:

```js run
alert( "Z".match(/./) ); // Z
```

او يمكن أستخدامها في منتصف التعبير المنتظم:

```js run
let regexp = /CS.4/;

alert( "CSS4".match(regexp) ); // CSS4
alert( "CS-4".match(regexp) ); // CS-4
alert( "CS 4".match(regexp) ); // CS 4 (المسافة تعتبر أيضاً حرف)
```

يرجى ملاحظة أن النقطة تعني "أي حرف" ، ولكن ليس "عدم وجود حرف". يجب أن يكون هناك حرف لمطابقته:

```js run
alert( "CS4".match(/CS.4/) ); // الناتج يكون null لان لا يجود أي حرف موضع النقطة.
```

### النقطة تكون أي حرف مثل العلم "s"

بشكل افتراضي ، لا تتطابق النقطة مع حرف السطر الجديد `\n`.

علي سبيل المثال, التعبير المنتظم `pattern:A.B` يطابق `match:A`, ومن ثم `match:B` مع أي حرف بينهم, ما عدا السطر الجديد `\n`:

```js run
alert( "A\nB".match(/A.B/) ); // null (لا متطابقة)
```

هناك العديد من المواقف عندما نرغب في أن تعني النقطة حرفياً "أي حرف" ، بما في ذلك السطر الجديد.

ماذا العلم `pattern:s` يفعل. اذا كان التعبير المنتظم يحتوي عليه, كذلك النقطة `pattern:.` ينتج عنها أي حرف:

```js run
alert( "A\nB".match(/A.B/s) ); // A\nB (match!)
```

````warn header="لا يدعم في Firefox و IE و Edge"
أفحص هذا الموقع <https://caniuse.com/#search=dotall> للمزيد من المعلومات حول الدعم. وفي نفس وقت الكتابة لا تنتمي الي Firefox و IE و Edge.

لحسن الحظ ، هناك بديل يعمل في كل مكان. نستطيع أستخدام تعبير منتظم مثل `pattern:[\s\S]` ليكون الناتج "أي حرف".

```js run
alert( "A\nB".match(/A[\s\S]B/) ); // A\nB (الناتج!)
```

الرمز `pattern:[\s\S]` يقول: "حرف مسافة او ليس حرف مسافة". وبعبارة أخرى ، "أي شيء". يمكننا أستخدام زوج أخر من الفئات التكميلية, مثل `pattern:[\d\D]`, لا يهم أو حتي `pattern:[^]` -- لأنه يعني مطابقة أي حرف باستثناء أي شيء.

كما يمكننا استخدام هذه الخدعة إذا أردنا نوعي "النقاط" في نفس النمط: النقطة الفعلية "النقط" في نفس الرمز: النقطة الفعلية `pattern:.` يشتغل بالطريقة المنتظمة ("لا يحتوي علي سطر جديد"), وأيضاً طريقة أخري للحصول علي "أي حرف" مع الرمز `pattern:[\s\S]` او علي حد سواء.
````

````warn header="أنتبه للمسافات"
عادة نولي القليل من الاهتمام للمساحات. للنصوص `subject:1-5` و `subject:1 - 5` متطابة تقريباً.

ولكن أذا كان التعبير المنتظم لا يحسب مسافات, قد تفشل في العمل.

فلنحاول أيجاد الأرقام مفصوله بواصلة:

```js run
alert( "1 - 5".match(/\d-\d/) ); // null, لا ناتج!
```

دعنا نصلحه بإضافة مسافات إلى التعبير المنتظم `pattern:\d - \d`:

```js run
alert( "1 - 5".match(/\d - \d/) ); // 1 - 5, الان أنها تعمل
// or we can use \s class:
alert( "1 - 5".match(/\d\s-\s\d/) ); // 1 - 5, أيضاً تعمل
```

**المسافة تعتبر حرف. تساوي في الاهمية مع أي حرف أخر.**

لا يمكننا إضافة مسافات أو إزالتها من التعبير المنتظم ونتوقع أن تعمل بالطريقة نفسها.

بمعني أخر, في التعبير المنتظم كل الحروف لها أهمية, والمسافات أيضاً.
````

## الملخص

توجد فئات الأحرف التالية:

- `pattern:\d` -- الارقام.
- `pattern:\D` -- غير الارقام.
- `pattern:\s` -- مسافات و مسافات طويلة وسطر جديد.
- `pattern:\S` -- أي شئ ما عدا `pattern:\s`.
- `pattern:\w` -- الحروف اللاتينية و الارقام و التطسير `'_'`.
- `pattern:\W` -- الكل ما عدا `pattern:\w`.
- `pattern:.` -- أي حرف أذا كان مع التعبير المنتظم العلم `'s'`, غير ذلك يكون أي شئ ما عدا السطر الجديد `\n`.

...ولكن هذا ليس كل شيء!

يوفر ترميز Unicode ، الذي تستخدمه JavaScript للسلاسل ، العديد من الخصائص للأحرف ، مثل: اللغة التي ينتمي إليها الحرف (إذا كان حرفًا) فهو علامة ترقيم ، إلخ.

يمكننا البحث بهذه الخصائص أيضًا. هذا يتطلب العلم `pattern:u`, تم تغطيته في المقال التالي.
